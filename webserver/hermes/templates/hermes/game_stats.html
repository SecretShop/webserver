{% extends "competition/competition_base.html" %}
{% load cache %}

{% block content %}

  <h2>Game Statistics for {{ user_team.name }}</h2>

  <table class="table table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>Games</th>
        <th>Wins</th>
        <th>Losses</th>
      </tr>
    </thead>
    <tbody>
      {% for team in stats.data.teams %}
        {% if forloop.first %}
          <tr class="info" style="font-weight:bold">
            <td>Total</td>
            <td>{{ stats.data.total.n_games }}</td>
            <td>{{ stats.data.total.n_win }}</td>
            <td>{{ stats.data.total.n_loss }}</td>
          </tr>
        {% endif %}
        <tr class="{% if team.n_win >= team.n_loss %}success{% else %}error{% endif %}">
          <td>{{ team.name }}</td>
          <td>{{ team.n_games }}</td>
          <td>{{ team.n_win }}</td>
          <td>{{ team.n_loss }}</td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="4">
            <center>
              No statistics are available at this time. Please be patient.
            </center>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
